{% extends "app_mysite/base.html" %}

{% block content %}
<h2 class="text-primary">SignIn</h2>

<!-- Виводимо Flash сповіщення-->
{% if messages %}
{% for message in messages %}
<div {% if message.tags %} class="alert alert-{{message.tags}}" {% endif %} role="alert">
    {{message}}
</div>
{% endfor %}
{% endif %}

<!--Обробляємо помилки форми які не відносяться до полів -->
{% if form.errors %}
<div class="alert alert-danger" role="alert">
  {{ form.non_field_errors}}
</div>
{% endif %}

<form method="post">
    {% csrf_token %}
    <div style="width: 35%;">
        <div class="form-row">
            <div class="mb-3">
                <label class="text-primary" class="form-label">Email</label>
                {{form.email}}
            </div>
            <span>{{form.errors.email}}</span>
        </div>    
        <div class="form-row">
            <div class="mb-3">
                <div class="row justify-content-end">
                    <div class="col">
                        <label class="text-primary" class="form-label">Password</label>
                    </div>     
                    <div class="col-4">
                        <a href="{% url 'users:password_reset' %}" class="fst-italic">forgot password?</a>
                    </div>    
                </div>    
                {{form.password}}
            </div>
            
            <span>{{form.errors.password}}</span>
        </div>
        <button type="submit" class="btn btn-primary">Sing In</button>
        <button type="reset" class="btn btn-primary">Reset</button> 
    </div>    
</form>
{% endblock %}